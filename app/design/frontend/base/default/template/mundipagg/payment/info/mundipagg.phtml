<?php
/**
 * MundiPagg Embeddables
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the MundiPagg.
 * It is also available through the world-wide-web at this URL:
 * http://www.mundipagg.com/
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade the extension
 * to newer versions in the future. If you wish to customize the extension
 * for your needs please refer to http://www.mundipagg.com/ for more information
 *
 * @category   MundiPagg
 * @package    Mundipagg
 * @copyright  Copyright (c) 2017 MundiPagg(http://www.mundipagg.com/)
 * @license    http://www.mundipagg.com/
 */

/**
 * Mundipagg Payment module
 *
 * @category   MundiPagg
 * @package    Mundipagg
 * @author     MundiPagg Embeddables Team
 */
?>
<?php echo Mage::helper('mundipagg')->__($this->getInfo()->getAdditionalInformation('PaymentMethod'));?>
<br/>
<?php 
if($this->getInfo()->getAdditionalInformation('PaymentMethod') == 'mundipagg_creditcard') {
	// Token
	$token = $this->getInfo()->getAdditionalInformation('mundipagg_creditcard_token_1_1');

	if($token && $token != 'new') {
		echo Mage::helper('mundipagg')->__('Credit Card Issuer').': ';
		echo $this->getInfo()->getAdditionalInformation('CreditCardBrandEnum_mundipagg_creditcard_token_1_1');

		if ($this->getInfo()->getAdditionalInformation('mundipagg_creditcard_credito_parcelamento_1_1')) {
			echo '<br/>';
			echo Mage::helper('mundipagg')->__('InstallmentsCount').': ';
			echo $this->getInfo()->getAdditionalInformation('mundipagg_creditcard_credito_parcelamento_1_1');
			echo 'x<br/>';
		}
		?>
	<?php
	} else {
		echo Mage::helper('mundipagg')->__('Credit Card Issuer').': ';
		echo $this->getInfo()->getAdditionalInformation('mundipagg_creditcard_1_1_cc_type');
		
		if ($this->getInfo()->getAdditionalInformation('mundipagg_creditcard_new_credito_parcelamento_1_1')) {
			echo '<br/>';
			echo Mage::helper('mundipagg')->__('InstallmentsCount').': ';
			echo $this->getInfo()->getAdditionalInformation('mundipagg_creditcard_new_credito_parcelamento_1_1');
			echo 'x<br/>';
		}
	}
}

if(
	$this->getInfo()->getAdditionalInformation('PaymentMethod') == 'mundipagg_creditcardoneinstallment'
) {
	// Token
	$token = $this->getInfo()->getAdditionalInformation('mundipagg_creditcardoneinstallment_token_1_1');

	if($token && $token != 'new') {
		echo Mage::helper('mundipagg')->__('Credit Card Issuer').': ';
		echo $this->getInfo()->getAdditionalInformation('CreditCardBrandEnum_mundipagg_creditcardoneinstallment_token_1_1');
		echo '<br/>';
		?>
	<?php
	} else {
		echo Mage::helper('mundipagg')->__('Credit Card Issuer').': ';
		echo $this->getInfo()->getAdditionalInformation('mundipagg_creditcardoneinstallment_1_1_cc_type');
		echo '<br/>';

		if ($this->getInfo()->getAdditionalInformation('mundipagg_creditcardoneinstallment_new_credito_parcelamento_1_1')) {
			echo Mage::helper('mundipagg')->__('InstallmentsCount').': ';
			echo $this->getInfo()->getAdditionalInformation('mundipagg_creditcardoneinstallment_new_credito_parcelamento_1_1');
			echo 'x<br/>';
		}
	}
}

if($boletoUrl = $this->getInfo()->getAdditionalInformation('BoletoUrl')):
?>
	<p>
		<a href="<?php echo $boletoUrl;?>" target="_blank"><?php echo Mage::helper('mundipagg')->__('Print boleto');?></a>
    </p>
<?php
endif;
?>